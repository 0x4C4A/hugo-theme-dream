"use strict";var SemanticUIColors=["red","orange","yellow","olive","green","teal","blue","violet","purple","pink","brown"];function randomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),random=Math.floor(Math.random()*(t-e))+e,random}function setSemanticUIColor(){$(".dream-tags").children().map(function(){$(this).addClass(SemanticUIColors[randomInt(0,SemanticUIColors.length)])})}function savePostAsImg(){var e=$(".post-list"),t=e.prop("scrollWidth"),o=e.prop("scrollHeight"),a=$(".post-list .post-disqus-area").prop("scrollHeight"),n=document.createElement("canvas"),r=t,i=o-a;return n.width=2*r,n.height=2*i,n.getContext("2d").scale(2,2),html2canvas(document.querySelector(".post-single-main"),{canvas:n,width:r,height:i,scale:2,useCORS:!0}).then(function(e){var t=e.getContext("2d");t.mozImageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.msImageSmoothingEnabled=!1,t.imageSmoothingEnabled=!1;var o=e.toDataURL("image/png"),a=document.createElement("a");a.href=URL.createObjectURL(dataURLtoBlob(o)),a.download="screenshot.png",a.click()}),!1}function dataURLtoBlob(e){for(var t=e.split(","),o=t[0].match(/:(.*?);/)[1],a=atob(t[1]),n=a.length,r=new Uint8Array(n);n--;)r[n]=a.charCodeAt(n);return new Blob([r],{type:o})}$(document).ready(function(){$(".dream-flip-toggle").click(function(){var e=$(".flip-container");0===dreamBodyBgSwitchIndex?(e.css("overflow","hidden"),setBackground(dreamBody,dreamBodyBgSwitch[1]),dreamBodyBgSwitchIndex=1,$(".flipper .front .ui.menu").css("overflow-x","")):(e.removeAttr("style"),setBackground(dreamBody,dreamBodyBgSwitch[0]),dreamBodyBgSwitchIndex=0,$(".flipper .front .ui.menu").css("overflow-x","auto")),e.toggleClass("flip-it")});var e=$(".post-list"),t=$(window).height()-$(".ui.menu").outerHeight(!0);e.css("max-height",t),$(".ui.cards .image").dimmer({opacity:.6,closable:!1}).dimmer("show"),$(".ui.accordion").accordion(),$("#tag-category-pop").click(function(){var e=$(".dream-header-tags.dream-tags"),t=$(".dream-categories"),o=e.css("display");t.css("display");"none"===o?(e.css("display","block"),t.css("display","block")):(e.css("display","none"),t.css("display","none"))}),setSemanticUIColor()});